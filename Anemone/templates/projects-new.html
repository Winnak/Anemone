<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<title>Anemone New Project</title>
		<link rel="stylesheet" href="{{ url_for('static', filename='bower_components/bootstrap/dist/css/bootstrap.min.css') }}">
		<link rel="stylesheet" href="{{ url_for('static', filename='bower_components/font-awesome/css/font-awesome.min.css') }}">
		<link rel=stylesheet type=text/css href="{{ url_for('static', filename='style.min.css') }}">
		<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
		<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
		<!--[if lt IE 9]>
		  <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.2/html5shiv.js"></script>
		  <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
		<![endif]-->
	</head>
	<body>
		<div class="container">
			<br>
			<br>
			<a href="{{url_for('projects')}}">Go back</a>
			<br>
			<br>
			<div class="panel panel-default">
				<div class="panel-heading">
					<h3 class="panel-title">Create new project</h3>
				</div>
				<div class="panel-body">
					{% if error %}<p class=error><strong>ERROR:</strong> {{ error }}{% endif %}
					<form action="{{ url_for('projects_add') }}" class="form-group" method="post">
						<div class="input-group">
							<span class="input-group-addon">Project name: </span>
							<input type=text class="form-control" id="Title" name=name>
							<span class="input-group-addon"><i class="fa fa-certificate"></i></span>
							<input type=text class="form-control" data-slug="#Title" readonly name=slug>
							<span class="input-group-addon"><i class="fa fa-certificate"></i></span>
						</div>
						<br>
						<div class="input-group">
							<span class="input-group-addon">Description: </span>
							<textarea rows=5 class="form-control" name=description></textarea>
						</div>
						<br>
						<div class="input-group">
							<span class="input-group-addon">Project file: </span>
							<input type=text class="form-control" name=filepath>
						</div>
						<br>
						<div class="btn-group btn-group-justified" role="group">
							<div class="btn-group" role="group">
								<input type=submit value="Create" class="btn btn-success btn-sm">
							</div>
						</div>
					</form>
				</div>
			</div>
		</div>
		<script src="{{ url_for('static', filename='bower_components/jquery/dist/jquery.min.js') }}"></script>
		<script src="{{ url_for('static', filename='bower_components/bootstrap/dist/js/bootstrap.min.js') }}"></script>
		<script type="text/javascript">
		$(document).ready(function() {
			$("[data-slug]").each(function () {
		        var $this = $(this);
		        var $sendSlugForm = $($this.data("slug"));
		        $sendSlugForm.keyup(function () {
		            var slug = $sendSlugForm.val();
		            slug = slug.replace(/[^a-zA-Z0-9\s]/g, "");
		            slug = slug.toLowerCase();
		            slug = slug.replace(/\s+/g, "-");
		            if (slug.charAt(slug.length - 1) == "-") {
		                slug = slug.substr(0, slug.length - 1);
		            }
		            $this.val(slug);
		        });
		    });
		});
		</script>
	</body>
</html>
